<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Color FaaS Doc FinalDesigned By Hanzhong Liu, Xi Shi All Videos: https:&#x2F;&#x2F;www.youtube.com&#x2F;playlist?list&#x3D;PLARUmtazqWjWrdYpJCU77CL7i0meZPqK9 Website &amp; Bill Service: https:&#x2F;&#x2F;github.com&#x2F;muchengl&#x2F;tamu-s">
<meta property="og:type" content="article">
<meta property="og:title" content="Color-FaaS-2">
<meta property="og:url" content="https://hzliu.io/2023/10/27/Color-FaaS-2/index.html">
<meta property="og:site_name" content="Hanzhong&#39;s Website">
<meta property="og:description" content="Color FaaS Doc FinalDesigned By Hanzhong Liu, Xi Shi All Videos: https:&#x2F;&#x2F;www.youtube.com&#x2F;playlist?list&#x3D;PLARUmtazqWjWrdYpJCU77CL7i0meZPqK9 Website &amp; Bill Service: https:&#x2F;&#x2F;github.com&#x2F;muchengl&#x2F;tamu-s">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/Register.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/login.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/function.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/test.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/test02.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/tool01.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/tool02.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/tool03.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/tasks.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/recarge.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/userdata.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/arch.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/ER.png">
<meta property="og:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/run-core.png">
<meta property="article:published_time" content="2023-10-27T19:26:45.000Z">
<meta property="article:modified_time" content="2023-12-06T20:48:45.622Z">
<meta property="article:author" content="Hanzhong">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hzliu.io/Users/lhz/Desktop/SW/SW-final/Register.png">
    
    
      
        
          <link rel="shortcut icon" href="/about-me/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/about-me/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/about-me/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Color-FaaS-2</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/about-me/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.2"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/about-me/about-me/">About me</a></li><!--
     --><!--
       --><li><a href="/about-me/">Writing</a></li><!--
     --><!--
       --><li><a href="/about-me/search/">Search</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/muchengl">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/about-me/2023/12/26/2023-Self-Review/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/about-me/2023/09/25/Spark-Check-Point/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://hzliu.io/2023/10/27/Color-FaaS-2/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&text=Color-FaaS-2"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&is_video=false&description=Color-FaaS-2"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Color-FaaS-2&body=Check out this article: https://hzliu.io/2023/10/27/Color-FaaS-2/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&name=Color-FaaS-2&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://hzliu.io/2023/10/27/Color-FaaS-2/&t=Color-FaaS-2"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Color-FaaS-Doc-Final"><span class="toc-number">1.</span> <span class="toc-text">Color FaaS Doc Final</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#User-cases-and-UI-design"><span class="toc-number">1.2.</span> <span class="toc-text">User cases and UI design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Register-amp-Login"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">**User case **: Register &amp; Login</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Development-Upload-function"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">**User case **: Development&#x2F;Upload function</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Test-Function-via-web-page"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">**User case **: Test Function via web page</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Test-Functions-via-Public-URL"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">**User case **: Test Functions via Public URL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Test-Functions-in-the-Desktop-Tool"><span class="toc-number">1.2.0.5.</span> <span class="toc-text">**User case **: Test Functions in the Desktop Tool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Manage-tasks"><span class="toc-number">1.2.0.6.</span> <span class="toc-text">**User case **: Manage tasks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Top-up-user%E2%80%99s-account"><span class="toc-number">1.2.0.7.</span> <span class="toc-text">**User case **: Top up user’s account</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Pay-the-bill"><span class="toc-number">1.2.0.8.</span> <span class="toc-text">**User case **: Pay the bill</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Architectural-design"><span class="toc-number">1.3.</span> <span class="toc-text">Architectural design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#High-Level-Design"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">High Level Design</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-Storage-System"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">Data Storage System</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-format-between-services"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">Data format between services</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Database-Design"><span class="toc-number">1.4.</span> <span class="toc-text">Database Design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#User-Info-Table"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">- User Info Table:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bill-Table"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">- Bill Table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Function-Table"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">- Function Table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Func-Running-Record"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">- Func Running Record</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Billing-Unit"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">- Billing Unit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Account-Info-History"><span class="toc-number">1.4.0.6.</span> <span class="toc-text">- Account Info History</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ER-Graph"><span class="toc-number">1.4.0.7.</span> <span class="toc-text">- ER Graph</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Handbook"><span class="toc-number">1.5.</span> <span class="toc-text">Handbook</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Environment"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">Environment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Start-Website-and-Bill-Service"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">Start Website and Bill Service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Start-Client-Cluster"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">Start Client Cluster</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Start-Zookeeper-and-HDFS"><span class="toc-number">1.5.0.4.</span> <span class="toc-text">Start Zookeeper and HDFS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Test-the-project"><span class="toc-number">1.5.0.5.</span> <span class="toc-text">Test the project</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Color-FaaS-2
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Hanzhong</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-10-27T19:26:45.000Z" itemprop="datePublished">2023-10-27</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="Color-FaaS-Doc-Final"><a href="#Color-FaaS-Doc-Final" class="headerlink" title="Color FaaS Doc Final"></a>Color FaaS Doc Final</h1><p>Designed By Hanzhong Liu, Xi Shi</p>
<p>All Videos: <a target="_blank" rel="noopener" href="https://www.youtube.com/playlist?list=PLARUmtazqWjWrdYpJCU77CL7i0meZPqK9">https://www.youtube.com/playlist?list=PLARUmtazqWjWrdYpJCU77CL7i0meZPqK9</a></p>
<p>Website &amp; Bill Service: <a target="_blank" rel="noopener" href="https://github.com/muchengl/tamu-sw-faas">https://github.com/muchengl/tamu-sw-faas</a></p>
<p>Client: <a target="_blank" rel="noopener" href="https://github.com/muchengl/Color-FaaS-Core">https://github.com/muchengl/Color-FaaS-Core</a></p>
<p>Function SDK: <a target="_blank" rel="noopener" href="https://github.com/muchengl/Color-FaaS-SDK">https://github.com/muchengl/Color-FaaS-SDK</a></p>
<p>Environment: <a target="_blank" rel="noopener" href="https://drive.google.com/file/d/1UE5ZxRM66E4el5G-MV9gjSpM_WBBAFvZ/view?usp=drive_link">https://drive.google.com/file/d/1UE5ZxRM66E4el5G-MV9gjSpM_WBBAFvZ/view?usp=drive_link</a></p>
<p><strong>Catalog</strong></p>
<p>[toc]</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a><strong>Introduction</strong></h2><p>In this project, we have undertaken a significant redesign of our existing system, transitioning to a microservices architecture and incorporating multi-modal client interfaces. This iteration represents an evolution of our system, focusing on enhanced scalability, modularity, and user experience.</p>
<p>Our submission for this iteration includes:</p>
<ol>
<li><strong>Requirements:</strong> Detailed descriptions and UI sketches of all use cases, incorporating standard format narratives and sequence diagrams. Video recordings demonstrating the system in action for each defined use case, highlighting functionality and user interaction.</li>
<li><strong>Database Design:</strong> We redesigned our DB based on MongoDB. Comprehensive outlines of data entities, relationships, and an entity-relationship diagram, accompanied by sample data.</li>
<li><strong>Architectural Design:</strong> In-depth descriptions of client and server components, communication protocols, data formats, and an overarching system architecture diagram.</li>
<li><strong>Runnable System:</strong> A fully functional system with a personalized and polished UI.</li>
<li><strong>Installation and Usage Manual:</strong> A detailed Handbook covering installation procedures, usage instructions, and information on necessary libraries and frameworks.</li>
</ol>
<h2 id="User-cases-and-UI-design"><a href="#User-cases-and-UI-design" class="headerlink" title="User cases and UI design"></a><strong>User cases and UI design</strong></h2><h4 id="User-case-Register-amp-Login"><a href="#User-case-Register-amp-Login" class="headerlink" title="**User case **: Register &amp; Login"></a>**User case **: Register &amp; Login</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>User</td>
</tr>
<tr>
<td>Goal</td>
<td>Register a new account and login to the platform</td>
</tr>
<tr>
<td>Path</td>
<td>1.User visits the website landing page<br />2.System returns the html code of the page<br />3.User clicks “New User”<br />4.System display the form for registering a new user<br />5.User fill in the new user information and submit<br />6.System writes the new user information to the database. And jump back to the landing page<br />7.User enters the new user information and clicks Login<br />8.System checks whether the user exists. If yes, go to the home page</td>
</tr>
</tbody></table>
<p>UI of this User case:</p>
<p>VIdeo: <a target="_blank" rel="noopener" href="https://youtu.be/bLijflOhaDs?si=2M6rCZVapOltcmfz">https://youtu.be/bLijflOhaDs?si=2M6rCZVapOltcmfz</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/Register.png" alt="图片替换文本" width="600" align="bottom" />

<img src="/Users/lhz/Desktop/SW/SW-final/login.png" alt="图片替换文本" width="800" align="bottom" />



<h4 id="User-case-Development-Upload-function"><a href="#User-case-Development-Upload-function" class="headerlink" title="**User case **: Development/Upload function"></a>**User case **: Development/Upload function</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>Developer</td>
</tr>
<tr>
<td>Goal</td>
<td>A User want to deploy a application in cloud environment</td>
</tr>
<tr>
<td>Path</td>
<td>1. User develop a func in his/her computer by a SDK and upload this function from the webpage<br />2. System saves the function file (in HDFS), and the function file is successfully created <br />3. User views the corresponding information in the function list</td>
</tr>
</tbody></table>
<p>UI of this User case</p>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/zrBuOFd2jsk?si=BBQKRtWMwfU-F9Aj">https://youtu.be/zrBuOFd2jsk?si=BBQKRtWMwfU-F9Aj</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/function.png" alt="图片替换文本" width="800" align="bottom" />



<h4 id="User-case-Test-Function-via-web-page"><a href="#User-case-Test-Function-via-web-page" class="headerlink" title="**User case **: Test Function via web page"></a>**User case **: Test Function via web page</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>User</td>
</tr>
<tr>
<td>Goal</td>
<td>Test the function from platform’s web page</td>
</tr>
<tr>
<td>Path</td>
<td>1. User enter the function test page<br />2. System return the web page to user<br />3. User test this function from web page.<br />4. System calls the function and returns the result and log</td>
</tr>
</tbody></table>
<p>UI of this User case:</p>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/nybjcanzMko?si=rx2toB0qJ9R3zZx8">https://youtu.be/nybjcanzMko?si=rx2toB0qJ9R3zZx8</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/test.png" alt="图片替换文本" width="700" align="bottom" />

<img src="/Users/lhz/Desktop/SW/SW-final/test02.png" alt="图片替换文本" width="700" align="bottom" />



<h4 id="User-case-Test-Functions-via-Public-URL"><a href="#User-case-Test-Functions-via-Public-URL" class="headerlink" title="**User case **: Test Functions via Public URL"></a>**User case **: Test Functions via Public URL</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>User</td>
</tr>
<tr>
<td>Goal</td>
<td>Test the function from platform’s web page</td>
</tr>
<tr>
<td>Path</td>
<td>1. User enter the function test page<br />2. System return the web page to user<br />3. User copy the “public url” and test it in Browser<br />4. System calls the function and returns the result and log as JSON. Show it in Browser.</td>
</tr>
</tbody></table>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/2_BJYx0JUBU?si=xXDeK_aF2hs8fj2u">https://youtu.be/2_BJYx0JUBU?si=xXDeK_aF2hs8fj2u</a></p>
<h4 id="User-case-Test-Functions-in-the-Desktop-Tool"><a href="#User-case-Test-Functions-in-the-Desktop-Tool" class="headerlink" title="**User case **: Test Functions in the Desktop Tool"></a>**User case **: Test Functions in the Desktop Tool</h4><p>There are two options to implement this Desktop tool, one is to write an <strong>interactive command line</strong>, and the other is to implement the program with UI. Since my project is a developer-oriented tool, I decided to implement an interactive command line program that more closely resembles a real-world product (like these tools in linux).</p>
<table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>Developer</td>
</tr>
<tr>
<td>Goal</td>
<td>Test functions in desktop tool</td>
</tr>
<tr>
<td>Path</td>
<td>1. User start the Desktop tool and login<br />2. System verifies that user information is correct<br />3. User enter list, history or test command to use different functions<br />4.System process the command and return the result<br />5.User see the output in screen.</td>
</tr>
</tbody></table>
<p>UI of this User case:</p>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/Uq23_F1yW-k?si=FnUfgjdBmk0kwb4i">https://youtu.be/Uq23_F1yW-k?si=FnUfgjdBmk0kwb4i</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/tool01.png" alt="图片替换文本" width="300" align="bottom" />

<img src="/Users/lhz/Desktop/SW/SW-final/tool02.png" alt="图片替换文本" width="500" align="bottom" />

<img src="/Users/lhz/Desktop/SW/SW-final/tool03.png" alt="图片替换文本" width="500" align="bottom" />

<h4 id="User-case-Manage-tasks"><a href="#User-case-Manage-tasks" class="headerlink" title="**User case **: Manage tasks"></a>**User case **: Manage tasks</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>Developer</td>
</tr>
<tr>
<td>Goal</td>
<td>Trace  the running status of a Func</td>
</tr>
<tr>
<td>Path</td>
<td>1. User enter Task manage page<br />2. System return the manage page<br />3. User look at the running status, output and time of the function</td>
</tr>
</tbody></table>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/dJ60XcTPhV0?si=MnkhJ3wmDE60XXmE">https://youtu.be/dJ60XcTPhV0?si=MnkhJ3wmDE60XXmE</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/tasks.png" alt="图片替换文本" width="700" align="bottom" />

<h4 id="User-case-Top-up-user’s-account"><a href="#User-case-Top-up-user’s-account" class="headerlink" title="**User case **: Top up user’s account"></a>**User case **: Top up user’s account</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>Developer</td>
</tr>
<tr>
<td>Goal</td>
<td>Top up</td>
</tr>
<tr>
<td>Path</td>
<td>1. User enter the account info page<br />2. System return the web page to user<br />3. User click “Recharge” button<br />4. System show the recharge form<br />5.User type info and click the button “Submit”<br />6.System add money to user’s account</td>
</tr>
</tbody></table>
<p>UI of this User case:</p>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/bL5l1LQHHrw?si=pWOBahXJLAHMEsHh">https://youtu.be/bL5l1LQHHrw?si=pWOBahXJLAHMEsHh</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/recarge.png" alt="图片替换文本" width="800" align="bottom" />

<h4 id="User-case-Pay-the-bill"><a href="#User-case-Pay-the-bill" class="headerlink" title="**User case **: Pay the bill"></a>**User case **: Pay the bill</h4><table>
<thead>
<tr>
<th>Items</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>Actor</td>
<td>Developer</td>
</tr>
<tr>
<td>Goal</td>
<td>Pay the bill</td>
</tr>
<tr>
<td>Path</td>
<td>1. User enter the account info page<br />2. System return the web page to user<br />3. User click “Update Bill” button<br />4. System queries all unpaid records and generates a bill. Platform will show the bill in web page<br />5. User click “Pay” button<br />6. System deducts the fee and completes the payment</td>
</tr>
</tbody></table>
<p>UI of this User case:</p>
<p>Video: <a target="_blank" rel="noopener" href="https://youtu.be/XO2TSqXJF0Y?si=Ozx1OBktopRhTn0i">https://youtu.be/XO2TSqXJF0Y?si=Ozx1OBktopRhTn0i</a></p>
<img src="/Users/lhz/Desktop/SW/SW-final/userdata.png" alt="图片替换文本" width="800" align="bottom" />



<h2 id="Architectural-design"><a href="#Architectural-design" class="headerlink" title="Architectural design"></a><strong>Architectural design</strong></h2><h4 id="High-Level-Design"><a href="#High-Level-Design" class="headerlink" title="High Level Design"></a><strong>High Level Design</strong></h4><p>This system comprises three microservices: <strong>Website Service</strong>, <strong>Billing Service</strong>, and <strong>Execution Client</strong>. The Website interact with the Execution Client and Billing Servers using the <strong>Http RestFul API</strong> protocol. The Website Service is responsible for user login, function upload, and function management. The Billing Server handles generating bills and processing user operations for recharge and payment. </p>
<p>The Execution Client is a multi-instance service, allowing for the deployment of numerous instances to achieve horizontal scaling and enhance system performance. The clients will register its information in ZooKeeper. The Website can then retrieve the list of clients from ZooKeeper and subsequently dispatch function calls to these clients.</p>
<p>Core cluster may contains many servers, so it can process many tasks in the same time. A <strong>Client</strong> program will run in In these servers. When a task is sent to a Client, it will stand up a Executor to process this task. The communitetion bewteen Client and Executor will been held by <strong>gPRC</strong>. Because, Function files are very big, so worker will use LRU to cache some function instances.</p>
<p>As for the architecture of this system：</p>
<img src="/Users/lhz/Desktop/SW/SW-final/arch.png" alt="图片替换文本" width="700" align="bottom" />

<h4 id="Data-Storage-System"><a href="#Data-Storage-System" class="headerlink" title="Data Storage System"></a><strong>Data Storage System</strong></h4><p>In Website service and Bill service, we use <strong>MongoDB</strong> to store user’s information. Website will provide user with functions include: add/update a Func, pay for the bill, trace Func status, debug function via webpage.</p>
<p>For function file storage, we use <strong>HDFS</strong> as the cloud storage system. User’s function files will be uploaded to HDFS and got by Executor.</p>
<p>For cluster management, we use <strong>ZooKeeper</strong> as the information register system. All clients’ info will be stored in ZooKeeper.</p>
<h4 id="Data-format-between-services"><a href="#Data-format-between-services" class="headerlink" title="Data format between services"></a><strong>Data format between services</strong></h4><p><strong>User ↔ Website</strong></p>
<table>
<thead>
<tr>
<th>Request</th>
<th>Protocol</th>
<th>Data Type</th>
<th>Request Data</th>
<th>Response Data</th>
<th>URL</th>
</tr>
</thead>
<tbody><tr>
<td>Login</td>
<td>POST</td>
<td>Form</td>
<td>Username<br />Password</td>
<td>Redirect to the home page</td>
<td>/user</td>
</tr>
<tr>
<td>Register new user</td>
<td>POST</td>
<td>Form</td>
<td>Username<br />Password</td>
<td>register success: “ok”<br />fail to register: “fail”</td>
<td>/add/user</td>
</tr>
<tr>
<td>Upload a new function</td>
<td>POST</td>
<td>Form</td>
<td>FunctionName<br />Description<br />Function File</td>
<td>upload success: “ok”<br />fail to upload: “fail”</td>
<td>/upload/func</td>
</tr>
<tr>
<td>Update function’s data</td>
<td>POST</td>
<td>Json</td>
<td>New FunctionName<br />New Description</td>
<td>update success: “ok”<br />fail to update: “fail”</td>
<td>/update/func</td>
</tr>
<tr>
<td>Get user’s function list</td>
<td>GET</td>
<td>url</td>
<td>User ID</td>
<td>A json list contains all user’s function</td>
<td>/funcs</td>
</tr>
<tr>
<td>Get user’s function access history</td>
<td>GET</td>
<td>url</td>
<td>User ID</td>
<td>A json list contains all user’s function access history</td>
<td>/user/tasks</td>
</tr>
<tr>
<td>Pay for the bill <br />(Forward to the Bill service)</td>
<td>POST</td>
<td>Json</td>
<td>User ID<br />Bill ID</td>
<td>pay success: “ok”<br />fail to pay: “fail”</td>
<td>/pay/bill</td>
</tr>
<tr>
<td>Top up<br />(Forward to the Bill service)</td>
<td>POST</td>
<td>Json</td>
<td>User ID<br />Card Number<br />Amount of money</td>
<td>success: “ok”<br />fail: “fail”</td>
<td>/user/add/balance</td>
</tr>
<tr>
<td>Update Bill<br />(Forward to the Bill service)</td>
<td>GET</td>
<td>Json</td>
<td>User ID</td>
<td>success: “ok”<br />fail: “fail”</td>
<td>/update/bills</td>
</tr>
<tr>
<td>Get Bill List<br />(Forward to the Bill service)</td>
<td>GET</td>
<td>Json</td>
<td>User ID</td>
<td>A json list contains all user’s bill history</td>
<td>/bills</td>
</tr>
<tr>
<td>Invoke a function</td>
<td>POST/GET</td>
<td>Json</td>
<td>Function ID<br />Task Input</td>
<td>A json of output and logs</td>
<td>/func/invoke</td>
</tr>
</tbody></table>
<p><strong>Website ↔ Bill service</strong></p>
<table>
<thead>
<tr>
<th>Request</th>
<th>Protocol</th>
<th>Data Type</th>
<th>Request Data</th>
<th>Response Data</th>
<th>URL</th>
</tr>
</thead>
<tbody><tr>
<td>Pay for the bill</td>
<td>POST</td>
<td>Json</td>
<td>User ID<br />Bill ID</td>
<td>pay success: “ok”<br />fail to pay: “fail”</td>
<td>/pay/bill</td>
</tr>
<tr>
<td>Top up</td>
<td>POST</td>
<td>Json</td>
<td>User ID<br />Card Number<br />Amount of money</td>
<td>success: “ok”<br />fail: “fail”</td>
<td>/user/add/balance</td>
</tr>
<tr>
<td>Update Bill</td>
<td>GET</td>
<td>Json</td>
<td>User ID</td>
<td>success: “ok”<br />fail: “fail”</td>
<td>/update/bills</td>
</tr>
<tr>
<td>Get Bill List</td>
<td>GET</td>
<td>Json</td>
<td>User ID</td>
<td>A json list contains all user’s bill history</td>
<td>/bills</td>
</tr>
</tbody></table>
<p><strong>Website ↔ Client</strong></p>
<table>
<thead>
<tr>
<th>Request</th>
<th>Protocol</th>
<th>Data Type</th>
<th>Request Data</th>
<th>Response Data</th>
<th>URL</th>
</tr>
</thead>
<tbody><tr>
<td>Submit a task</td>
<td>POST</td>
<td>Json</td>
<td>TaskID          <br />FuncName        <br />FuncID          <br />FuncStorageType<br />TaskFuncPath     <br />TaskRunningMode <br />FuncType      <br />TaskCPUCore     <br />TaskMem        <br />TaskDiskSpace   <br />TaskMaxTime     <br />TaskInput</td>
<td>A JSON include:<br />status,<br />msg<br />logs</td>
<td>/func/invoke</td>
</tr>
</tbody></table>
<h2 id="Database-Design"><a href="#Database-Design" class="headerlink" title="Database Design"></a><strong>Database Design</strong></h2><p>This FaaS platform’s database(MongoDB) design encompasses multiple tables, intended to manage user information, bills, functions, function execution records, billing units, and account history details. Here’s a detailed explanation of these tables:</p>
<ol>
<li><strong>User Info Table</strong>:<ul>
<li><code>User_ID</code>: A unique identifier for the user, of type Bigint.</li>
<li><code>User_Email</code>: The email address of the user.</li>
<li><code>User_Name</code>: The name of the user, which can be up to 20 characters.</li>
<li><code>User_Password</code>: The password of the user, capped at 20 characters.</li>
<li><code>User_Balance</code>: The balance in the user’s account, of type Bigint.</li>
</ul>
</li>
<li><strong>Bill Table</strong>:<ul>
<li><code>Bill_ID</code>: A unique identifier for the bill.</li>
<li><code>User_ID</code>: A unique identifier for the user, serving as an index.</li>
<li><code>Bill_Date</code>: The date of the bill.</li>
<li><code>Bill_Balance</code>: The amount of the bill.</li>
<li><code>Bill_tasks</code>: A JSON document inclueds all unpaid function running records, supported by MongoDB</li>
<li><code>Status</code>: The status of the bill, where 0 stands for unpaid and 1 for paid.</li>
</ul>
</li>
<li><strong>Function Table</strong>:<ul>
<li><code>Func_ID</code>: A unique identifier for the function.</li>
<li><code>User_ID</code>: A unique identifier for the user.</li>
<li><code>Func_Path</code>: The path to the function’s code in object storage services like S3.</li>
<li><code>Func_Explanation</code>: An explanation or description of the function.</li>
<li><code>Func_Resource</code>: Resources required by the function, in JSON format, e.g., {“CPU”:4,”MEM”:1024m,”DISK”:1024m}.</li>
</ul>
</li>
<li><strong>Func Running Record Table</strong>:<ul>
<li><code>ID</code>: A unique identifier for the execution record.</li>
<li><code>Func_ID</code>: A unique identifier for the function.</li>
<li><code>Running_Time</code>: Execution time, e.g., 100ms.</li>
<li><code>Status</code>: Status of execution, where 0 stands for failure, 1 for success, and 2 for pending.</li>
<li><code>Input</code>: Input data in JSON format.</li>
<li><code>Running_Date</code>: The date of execution.</li>
<li><code>Payment_Status</code>: Payment status, where 0 stands for unpaid and 1 for paid.</li>
</ul>
</li>
<li><strong>Billing Unit Table</strong>:<ul>
<li><code>Price</code>: The price, e.g., 0.01$/ms for functions.</li>
</ul>
</li>
<li><strong>Account Info History Table</strong>:<ul>
<li><code>ID</code>: A unique identifier for the record.</li>
<li><code>Date</code>: The date.</li>
<li><code>Type</code>: The action type (add fund or payment).</li>
<li><code>Account_num</code>: Account number.</li>
<li><code>Bill_ID</code>: The ID of the bill.</li>
<li><code>Money</code>: The amount.</li>
<li><code>User_ID</code>: A unique identifier for the user.</li>
</ul>
</li>
</ol>
<hr>
<h4 id="User-Info-Table"><a href="#User-Info-Table" class="headerlink" title="- User Info Table:"></a>- User Info Table:</h4><table>
<thead>
<tr>
<th>Item</th>
<th>Type</th>
<th>Explanation/Sample Data</th>
</tr>
</thead>
<tbody><tr>
<td>User_ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>User_Email</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>User_Name</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>User_Password</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>User_Balance</td>
<td>Bigint</td>
<td>1000.0$</td>
</tr>
</tbody></table>
<h4 id="Bill-Table"><a href="#Bill-Table" class="headerlink" title="- Bill Table"></a>- Bill Table</h4><table>
<thead>
<tr>
<th>Item</th>
<th>Type</th>
<th>Explanation/Sample Data</th>
</tr>
</thead>
<tbody><tr>
<td>Bill_ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>User_ID</td>
<td>String</td>
<td>Index</td>
</tr>
<tr>
<td>Bill_Date</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Bill_Balance</td>
<td>Bigint</td>
<td></td>
</tr>
<tr>
<td>Bill_Tasks</td>
<td>Task</td>
<td>A JSON document inclueds all unpaid function running records, supported by MongoDB<br />{<br />    {taskID:1,…},<br />    {taskID:2,…}<br />}</td>
</tr>
<tr>
<td>Status</td>
<td>int</td>
<td>0 unpay, 1 paid</td>
</tr>
</tbody></table>
<h4 id="Function-Table"><a href="#Function-Table" class="headerlink" title="- Function Table"></a>- Function Table</h4><table>
<thead>
<tr>
<th>Item</th>
<th>Type</th>
<th>Explanation/Sample Data</th>
</tr>
</thead>
<tbody><tr>
<td>Func_ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>User_ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Func_Args</td>
<td>String</td>
<td>{“num1”:int,”num2”,int}</td>
</tr>
<tr>
<td>Func_Path</td>
<td>String</td>
<td>path of func’s code in HDFS or S3</td>
</tr>
<tr>
<td>Func_Explanation</td>
<td>String</td>
<td></td>
</tr>
</tbody></table>
<h4 id="Func-Running-Record"><a href="#Func-Running-Record" class="headerlink" title="- Func Running Record"></a>- Func Running Record</h4><table>
<thead>
<tr>
<th>tem</th>
<th>Type</th>
<th>Explanation/Sample Data</th>
</tr>
</thead>
<tbody><tr>
<td>Running_ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Func_ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Running_Time</td>
<td>String</td>
<td>Example: 100ms</td>
</tr>
<tr>
<td>Status</td>
<td>Int</td>
<td>0: fail, 1 success, 2 pending</td>
</tr>
<tr>
<td>Input</td>
<td>String</td>
<td>A input json</td>
</tr>
<tr>
<td>Running_Date</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Payment_Status</td>
<td>Int</td>
<td>0 unpay, 1 paid</td>
</tr>
</tbody></table>
<h4 id="Billing-Unit"><a href="#Billing-Unit" class="headerlink" title="- Billing Unit"></a>- Billing Unit</h4><table>
<thead>
<tr>
<th>Item</th>
<th>Type</th>
<th>Explanation/Sample Data</th>
</tr>
</thead>
<tbody><tr>
<td>ID</td>
<td>Bitint</td>
<td></td>
</tr>
<tr>
<td>Price</td>
<td>float</td>
<td>0.0001$ / ms</td>
</tr>
</tbody></table>
<h4 id="Account-Info-History"><a href="#Account-Info-History" class="headerlink" title="- Account Info History"></a>- Account Info History</h4><table>
<thead>
<tr>
<th>Item</th>
<th>Type</th>
<th>Explanation/Sample Data</th>
</tr>
</thead>
<tbody><tr>
<td>ID</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Date</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Type</td>
<td>Int</td>
<td>Payment or ADD</td>
</tr>
<tr>
<td>Account_num</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>Bill_ID</td>
<td>Int</td>
<td></td>
</tr>
<tr>
<td>Money</td>
<td>Bigint</td>
<td></td>
</tr>
<tr>
<td>User_ID</td>
<td>Bigint</td>
<td></td>
</tr>
</tbody></table>
<h4 id="ER-Graph"><a href="#ER-Graph" class="headerlink" title="- ER Graph"></a>- ER Graph</h4><img src="/Users/lhz/Desktop/SW/SW-final/ER.png" alt="图片替换文本" width="600" align="bottom" />

<h2 id="Handbook"><a href="#Handbook" class="headerlink" title="Handbook"></a><strong>Handbook</strong></h2><p>Website &amp; Bill Service Code: <a target="_blank" rel="noopener" href="https://github.com/muchengl/tamu-sw-faas">https://github.com/muchengl/tamu-sw-faas</a></p>
<p>Client Code: <a target="_blank" rel="noopener" href="https://github.com/muchengl/Color-FaaS-Core">https://github.com/muchengl/Color-FaaS-Core</a></p>
<p>Docker Environment: <a target="_blank" rel="noopener" href="https://drive.google.com/file/d/1UE5ZxRM66E4el5G-MV9gjSpM_WBBAFvZ/view?usp=drive_link">https://drive.google.com/file/d/1UE5ZxRM66E4el5G-MV9gjSpM_WBBAFvZ/view?usp=drive_link</a></p>
<h4 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a><strong>Environment</strong></h4><p>This service includes a Website, Bill service, and Client. Both the Website and Bill service rely on a Java environment (Java 1.8+), while the Client is developed using Golang and requires Golang 1.21. Website and Bill service use Maven to manager all dependent environment. Client can use Golang’s mod to get all dependents.</p>
<h4 id="Start-Website-and-Bill-Service"><a href="#Start-Website-and-Bill-Service" class="headerlink" title="Start Website and Bill Service"></a><strong>Start Website and Bill Service</strong></h4><p>Step 01: Download/Clone all code of project.</p>
<p>Step 02: Open the project with IDEA.</p>
<p>Step 03: Open <strong>pom.xml</strong> in project and init maven for both main-module and bill-module.</p>
<p>Step 04: Run project in IDEA. Website is in main module <strong>com.tamu.faas.FaasApplication</strong>. Bill is in bill module <strong>com.tamu.faas.bill.BillApplication</strong></p>
<p>Step 05: com.tamu.faas.FaasApplication will use port 8080 and com.tamu.faas.bill.BillApplication will use 8081.</p>
<h4 id="Start-Client-Cluster"><a href="#Start-Client-Cluster" class="headerlink" title="Start Client Cluster"></a><strong>Start Client Cluster</strong></h4><p>Client uses makefile to manager the project, you can use the follows commands to init and build the project:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">➜ cd [client project&#x27;s dir in your computer]</span><br><span class="line">➜ make mod</span><br><span class="line">---&gt; make mod &lt;---</span><br><span class="line">go mod tidy</span><br><span class="line">go mod download</span><br><span class="line"></span><br><span class="line">➜ make build</span><br><span class="line">---&gt; make build &lt;---</span><br><span class="line">./build.sh</span><br><span class="line">  ---&gt; make clean &lt;---</span><br><span class="line">  ---&gt; init dir &lt;---</span><br><span class="line">  ---&gt; init files &lt;---</span><br><span class="line">  ---&gt; make server &lt;---</span><br><span class="line">  ---&gt; make client &lt;---</span><br><span class="line">  ---&gt; make executor &lt;---</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>And than, use the follows commands to start the client:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">➜ ./output/startup.sh --client</span><br></pre></td></tr></table></figure>

<p>If you see the following output, the client has started successfully (<strong>only one client</strong>, if you want to start many clients to form a cluster, you need to run muit-clients in many Containers/VMs):</p>
<img src="/Users/lhz/Desktop/SW/SW-final/run-core.png" alt="图片替换文本" width="800" align="bottom" />

<h4 id="Start-Zookeeper-and-HDFS"><a href="#Start-Zookeeper-and-HDFS" class="headerlink" title="Start Zookeeper and HDFS"></a><strong>Start Zookeeper and HDFS</strong></h4><p>Start by docker-compose in project dir (May not work perfectly, may require manual installation) :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜ cd [docker-compose&#x27;s dir in your computer]</span><br><span class="line">➜ docker-compose up -d</span><br></pre></td></tr></table></figure>

<h4 id="Test-the-project"><a href="#Test-the-project" class="headerlink" title="Test the project"></a><strong>Test the project</strong></h4><p>Test the project by URL in your browser: <a target="_blank" rel="noopener" href="http://localhost:8080/login">http://localhost:8080/login</a></p>
<p>HDFS URL in browser: <a target="_blank" rel="noopener" href="http://localhost:9870/">http://localhost:9870/</a></p>
<p>Test desktop tool:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜ pip install prettytable requests</span><br><span class="line">➜ python3 client.py</span><br></pre></td></tr></table></figure>


  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/about-me/about-me/">About me</a></li>
         
          <li><a href="/about-me/">Writing</a></li>
         
          <li><a href="/about-me/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/muchengl">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Color-FaaS-Doc-Final"><span class="toc-number">1.</span> <span class="toc-text">Color FaaS Doc Final</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#User-cases-and-UI-design"><span class="toc-number">1.2.</span> <span class="toc-text">User cases and UI design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Register-amp-Login"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">**User case **: Register &amp; Login</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Development-Upload-function"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">**User case **: Development&#x2F;Upload function</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Test-Function-via-web-page"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">**User case **: Test Function via web page</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Test-Functions-via-Public-URL"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">**User case **: Test Functions via Public URL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Test-Functions-in-the-Desktop-Tool"><span class="toc-number">1.2.0.5.</span> <span class="toc-text">**User case **: Test Functions in the Desktop Tool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Manage-tasks"><span class="toc-number">1.2.0.6.</span> <span class="toc-text">**User case **: Manage tasks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Top-up-user%E2%80%99s-account"><span class="toc-number">1.2.0.7.</span> <span class="toc-text">**User case **: Top up user’s account</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#User-case-Pay-the-bill"><span class="toc-number">1.2.0.8.</span> <span class="toc-text">**User case **: Pay the bill</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Architectural-design"><span class="toc-number">1.3.</span> <span class="toc-text">Architectural design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#High-Level-Design"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">High Level Design</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-Storage-System"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">Data Storage System</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-format-between-services"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">Data format between services</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Database-Design"><span class="toc-number">1.4.</span> <span class="toc-text">Database Design</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#User-Info-Table"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">- User Info Table:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bill-Table"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">- Bill Table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Function-Table"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">- Function Table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Func-Running-Record"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">- Func Running Record</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Billing-Unit"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">- Billing Unit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Account-Info-History"><span class="toc-number">1.4.0.6.</span> <span class="toc-text">- Account Info History</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ER-Graph"><span class="toc-number">1.4.0.7.</span> <span class="toc-text">- ER Graph</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Handbook"><span class="toc-number">1.5.</span> <span class="toc-text">Handbook</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Environment"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">Environment</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Start-Website-and-Bill-Service"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">Start Website and Bill Service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Start-Client-Cluster"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">Start Client Cluster</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Start-Zookeeper-and-HDFS"><span class="toc-number">1.5.0.4.</span> <span class="toc-text">Start Zookeeper and HDFS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Test-the-project"><span class="toc-number">1.5.0.5.</span> <span class="toc-text">Test the project</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://hzliu.io/2023/10/27/Color-FaaS-2/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&text=Color-FaaS-2"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&is_video=false&description=Color-FaaS-2"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Color-FaaS-2&body=Check out this article: https://hzliu.io/2023/10/27/Color-FaaS-2/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&title=Color-FaaS-2"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://hzliu.io/2023/10/27/Color-FaaS-2/&name=Color-FaaS-2&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://hzliu.io/2023/10/27/Color-FaaS-2/&t=Color-FaaS-2"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022-2025
    Hanzhong
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/about-me/about-me/">About me</a></li><!--
     --><!--
       --><li><a href="/about-me/">Writing</a></li><!--
     --><!--
       --><li><a href="/about-me/search/">Search</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/muchengl">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/about-me/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HDSBJP94HH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-HDSBJP94HH');
    </script>

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
